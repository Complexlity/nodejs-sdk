name: Update ReadMe Documentation ðŸ¦‰

on:
  push:
    branches:
      - docs

jobs:
  update-docs:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2

      - name: Install Dependencies
        run: npm install

      - name: Read getting-started.md Content
        id: read-file
        run: |
          content=$(cat docs/getting-started.md)
          echo "::set-output name=content::$content"

      - name: Update ReadMe Documentation
        env:
          README_API_KEY: ${{ secrets.README_API_KEY }}
          SETUP_MD_CONTENT: ${{ steps.read-file.outputs.content }}
        run: |
          ts-node scripts/getting-started.ts "$SETUP_MD_CONTENT"
